<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>prideRcompare by PRIDE-R</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/github-light.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>prideRcompare</h1>
        <p>Compare, distance, and clustering for prideR projects</p>

        <p class="view"><a href="https://github.com/PRIDE-R/prideRcompare">View the Project on GitHub <small>PRIDE-R/prideRcompare</small></a></p>


        <ul>
          <li><a href="https://github.com/PRIDE-R/prideRcompare/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/PRIDE-R/prideRcompare/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/PRIDE-R/prideRcompare">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <h1>
<a id="pridercompare" class="anchor" href="#pridercompare" aria-hidden="true"><span class="octicon octicon-link"></span></a>prideRcompare</h1>

<p>An <code>R</code> package for comparing and clustering <a href="http://www.ebi.ac.uk/pride/archive">PRIDE Archive</a> 
projects. </p>

<p>This package makes use of the <a href="https://github.com/jadianes/prider">prideR</a> package.  </p>

<h3>
<a id="installation" class="anchor" href="#installation" aria-hidden="true"><span class="octicon octicon-link"></span></a>Installation</h3>

<p>First, we need to install <code>devtools</code>:  </p>

<pre><code>install.packages("devtools")
library(devtools)
</code></pre>

<p>Then we just call  </p>

<pre><code>install_github(username="Bioanalytics", repo="prideRcompare")
</code></pre>

<h3>
<a id="usage" class="anchor" href="#usage" aria-hidden="true"><span class="octicon octicon-link"></span></a>Usage</h3>

<h4>
<a id="archive-distance-calculators" class="anchor" href="#archive-distance-calculators" aria-hidden="true"><span class="octicon octicon-link"></span></a>Archive distance calculators</h4>

<p>The following code  </p>

<pre><code>archive.accession.distance.retriever("PXD001034", project.count=100)
</code></pre>

<p>Returns the <a href="http://en.wikipedia.org/wiki/Jaccard_index"><em>Jaccard similarity index</em></a> 
between the PRIDE Archive project with accession <code>PXD001034</code> and the first 100 
projects returned by the PRIDE Archive web service (that currently are the 100 
most recent ones).  </p>

<p>We can use <code>ProjectDetail</code> objects in a similar way.  </p>

<h4>
<a id="individual-distances" class="anchor" href="#individual-distances" aria-hidden="true"><span class="octicon octicon-link"></span></a>Individual distances</h4>

<p>Individual distances can be calculated using <code>distance.ProteinDetail</code> like in  </p>

<pre><code>p1034.protein.details &lt;- get.list.ProteinDetail("PXD001034")
p1156.protein.details &lt;- get.list.ProteinDetail("PXD001156")
distance.ProteinDetail(p1034.protein.details, p1156.protein.details)
</code></pre>

<p>Also applicable to lists using the function <code>distance.list.ProteinDetail</code> and
<code>distance.df.ProteinDetail</code>.  </p>

<h4>
<a id="clustering" class="anchor" href="#clustering" aria-hidden="true"><span class="octicon octicon-link"></span></a>Clustering</h4>

<p>We can cluster lists of <code>ProteinDetail</code> and <code>ProjectSummary</code> instances, although
in the end the clustering is always done on the protein details and therefore 
the later method uses the former one through the PRIDE Archive web service. In
order to be a good citizen, the recommended usage is through <code>ProteinDetail</code> 
obtaining first the list of lists of protein details for each project.  </p>

<pre><code>cancer.projects.100 &lt;- search.list.ProjectSummary("cancer", 100)
cancer.projects.100.protein.details.100 &lt;- lapply(cancer.projects.100, function(x) {get.list.ProteinDetail(accession(x), 100)})
cancer.clusters.100.100 &lt;- cluster.ProteinDetails(cancer.projects.100.protein.details.100)
</code></pre>

<p>That will give us a hierarchical cluster objects (as generated by <code>hclust</code>) that
we can use to find out clusters (e.g. 5 clusters) using:</p>

<pre><code>cancer.projects.100.accessions &lt;- sapply(cancer.projects.100, accession)
cutree.labels(cancer.clusters.100.100, 5, cancer.projects.100.accessions)
</code></pre>

<p>Or just plot:</p>

<pre><code>plot(cancer.clusters.100.100, cancer.projects.100.accessions, main="Clustering of latest 100 cancer projects")
</code></pre>
      </section>
      <footer>
        <p>This project is maintained by <a href="https://github.com/PRIDE-R">PRIDE-R</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="javascripts/scale.fix.js"></script>
    
  </body>
</html>
